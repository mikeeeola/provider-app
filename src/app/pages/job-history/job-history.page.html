<ion-header>
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-back-button></ion-back-button>
    </ion-buttons>
    <ion-title>Job History</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content *ngFor="let jobs of allJobs">
  <ion-grid>
    <ion-row>
      <ion-col size-sm="6" offset-sm="3">
        <div class="row">
          <div class="col1">
            <ion-avatar class="pic">
              <ion-img [src]="serverImage + jobs.users.image"></ion-img>
            </ion-avatar>
          </div>
          <div class="col2">
            <ion-grid>
              <ion-row style="margin-bottom: -8px;">
                <ion-col size-sm="12">
                  <ion-label class="ion-text-wrap">
                    <h2
                      style="font-weight: bold; color: green; font-size: 20px;"
                    >
                      {{ jobs.users.first_name }} {{ jobs.users.last_name }}
                    </h2>
                    <h3>{{ jobs.bookings.location }}</h3>
                    <h3>{{ jobs.bookings.address }}</h3>
                    <h3>
                      {{ jobs.bookings.book_date }} {{ jobs.bookings.time_from
                      }} - {{ jobs.bookings.time_to }}
                    </h3>
                  </ion-label>
                </ion-col>
              </ion-row>
            </ion-grid>
          </div>
        </div>
      </ion-col>
    </ion-row>
  </ion-grid>
  <div
    style="
      text-align: center;
      color: green;
      font-size: 20px;
      font-weight: bolder;
    "
  >
    JOB PROGRESS
  </div>
  <ion-item
    lines="full">
    <ion-grid>
      <ion-row>
        <ion-col size="2" class="ion-no-padding">
          <ion-avatar
            style="
              margin-top: 2px;
              display: flex;
              justify-content: center;
              align-items: center;
              background-color: green;
              width: 40px;
              height: 40px;
            "
          >
            <ion-icon
              name="checkmark"
              style="color: white;"
              size="large"
            ></ion-icon>
          </ion-avatar>
        </ion-col>
        <ion-col size-sm="10" style="padding-top: 0px;">
          <ion-label class="ion-text-wrap">
            Job request was accepted at exactly {{ acceptjobTime }}
          </ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-item>
  <ion-item
    lines="full">
    <ion-grid>
      <ion-row>
        <ion-col size="2" class="ion-no-padding">
          <ion-avatar
            style="
              margin-top: 2px;
              display: flex;
              justify-content: center;
              align-items: center;
              background-color: green;
              width: 40px;
              height: 40px;
            "
          >
            <ion-icon
              name="checkmark"
              style="color: white;"
              size="large"
            ></ion-icon>
          </ion-avatar>
        </ion-col>
        <ion-col size-sm="10" style="padding-top: 0px;">
          <ion-label class="ion-text-wrap">
            Job request was started at exactly {{ startJobTime }}
          </ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-item>

  <ion-item lines="full" *ngIf="jobs.status == 'Completed'">
    <ion-grid>
      <ion-row>
        <ion-col size="2" class="ion-no-padding">
          <ion-avatar
            style="
              margin-top: 2px;
              display: flex;
              justify-content: center;
              align-items: center;
              background-color: green;
              width: 40px;
              height: 40px;
            "
          >
            <ion-icon
              name="checkmark"
              style="color: white;"
              size="large"
            ></ion-icon>
          </ion-avatar>
        </ion-col>
        <ion-col size-sm="10" style="padding-top: 0px;">
          <ion-label class="ion-text-wrap">
            Job request was Completed at exactly {{ completeJobTime }}
          </ion-label>
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-item>
</ion-content>
